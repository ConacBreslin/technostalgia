{% extends "base.html" %}
{% block content %}

<h1 class="center-align">{{ page_title }}</h1>
<ul class="collapsible">
  {% for category in categories %}
                        
                       
    <li>
      <div class="collapsible-header"><i class="material-icons">list</i>{{ category.category_name }}</div>
      <div class="collapsible-body"><span><a href="{{ url_for('edit_category', category_id=category._id) }}" class="btn-large waves-effect waves-light orange darken-3"><i class="material-icons right">close</i>Edit this category name</a>
        <a href="{{ url_for('delete_category', category_id=category._id) }}" class="btn-large waves-effect waves-light orange darken-3"><i class="material-icons right">close</i>Delete this category</a>
        <!--  Button for modal -->
        <a class="waves-effect waves-light btn modal-trigger" href="#modal{{ category._id }}">Modal</a></span>
      </div>
    </li>
    <!--  modal -->
<div id="modal{{ category._id }}" class="modal">
  <div class="modal-content">
    <h4>Are you sure you want to delete this category?</h4>
    <p>The entire category and all its technologies will be deleted and you will not be able to retrieve them</p>
  </div>
  <div class="modal-footer">
    <a href="{{ url_for('delete_category', category_id=category._id) }}"
      class="modal-close waves-effect waves-light btn-small orange darken-3 aligh-right">Yes I am certain I want to delete this category</a>

    <a href="{{ url_for('manage_categories') }}"
      class="modal-close waves-effect waves-light btn-flat">No, return to safety</a>

  </div>
</div>
    {% endfor %}
    
  </ul>

  <div class="row">
    <div class="col s12 center-align">
        <a href="{{ url_for('add_category') }}" class="btn-large waves-effect waves-light orange darken-3">
            Add a new category to Technostalgia<i class="material-icons right">add_circle_outline</i>
        </a>
        
    </div>
</div>

{% endblock %}


